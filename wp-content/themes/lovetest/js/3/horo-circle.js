$(document).ready(function(){function g(){$(".display-block-horo-circle").removeClass("display-block-horo-circle");$(".sign-on").removeClass("sign-on");$(".fill-pink").removeClass("fill-pink");$(".fill-blue").removeClass("fill-blue");$(".line-on-click").removeClass("line-on-click");f=h="no sign";e=2;getHoroComment(0,"","")}function b(b,a){$(".line-on-click").removeClass("line-on-click");var l=getActiveSignNumber(b),d=getActiveSignNumber(a),e;e=Math.abs(l-d);var c,k,g,f;l>d?(f=l-d,g=30*d,6<e&&(g=-30*
    (12-l))):(f=d-l,g=30*l,6<e&&(g=-30*(12-d)));switch(f){case 0:c="\u00ab\u042f \u0438 \u043c\u043e\u0435 \u0437\u0435\u0440\u043a\u0430\u043b\u043e\u00bb";k="\u2014 \u0414\u0432\u0430 \u043c\u0435\u0434\u0432\u0435\u0434\u044f \u0432 \u043e\u0434\u043d\u043e\u0439 \u0431\u0435\u0440\u043b\u043e\u0433\u0435";break;case 1:c="\u00ab\u041b\u0443\u0447\u0448\u0438\u0439 \u0434\u0440\u0443\u0433 \u0438 \u043b\u0443\u0447\u0448\u0438\u0439 \u0432\u0440\u0430\u0433\u00bb";k="\u2014 \u0421\u0442\u0435\u0440\u043f\u0438\u0442\u0441\u044f-\u0441\u043b\u044e\u0431\u0438\u0442\u0441\u044f";
    break;case 2:c="\u00ab\u0421\u0442\u0430\u0440\u0448\u0438\u0439 \u0431\u0440\u0430\u0442 \u0438 \u043c\u043b\u0430\u0434\u0448\u0438\u0439 \u0431\u0440\u0430\u0442\u00bb";k="\u2014 \u0414\u0440\u0443\u0437\u044c\u044f \u0438 \u0431\u0440\u0430\u0442\u044c\u044f \u043d\u0430\u0432\u0435\u043a!";break;case 3:c="\u00ab\u041f\u043e\u043a\u0440\u043e\u0432\u0438\u0442\u0435\u043b\u044c \u0438 \u0441\u043e\u0432\u0435\u0442\u043d\u0438\u043a\u00bb";k="\u2014 \u0421\u043a\u043e\u0440\u0435\u0435 \u0434\u0435\u043b\u043e\u0432\u043e\u0439 \u0441\u043e\u044e\u0437";
    break;case 4:c="\u00ab\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u0438 \u0440\u0435\u0431\u0435\u043d\u043e\u043a\u00bb";k="\u2014 \u0413\u0430\u0440\u043c\u043e\u043d\u0438\u0447\u043d\u044b\u0439 \u0441\u043e\u044e\u0437!";break;case 5:c="\u00ab\u0423\u0434\u0430\u0432 \u0438 \u043a\u0440\u043e\u043b\u0438\u043a\u00bb";k="\u2014 \u041c\u0435\u043b\u043e\u0434\u0440\u0430\u043c\u0430 \u0441 \u0440\u0435\u043a\u0430\u043c\u0438 \u0441\u043b\u0435\u0437";break;case 6:c="\u00ab\u041f\u0440\u043e\u0442\u0438\u0432\u043e\u043f\u043e\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u043f\u0440\u0438\u0442\u044f\u0433\u0438\u0432\u0430\u044e\u0442\u0441\u044f\u00bb";
    k="\u2014 \u042d\u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u043d\u0435\u043f\u0440\u043e\u0441\u0442\u043e, \u043d\u043e \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u043e";break;case 7:f=5;c="\u00ab\u0423\u0434\u0430\u0432 \u0438 \u043a\u0440\u043e\u043b\u0438\u043a\u00bb";k="\u2014 \u0422\u0440\u0430\u0433\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043c\u0435\u043b\u043e\u0434\u0440\u0430\u043c\u0430";break;case 8:f=4;c="\u00ab\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u0438 \u0440\u0435\u0431\u0435\u043d\u043e\u043a\u00bb";
    k="\u2014 \u0413\u0430\u0440\u043c\u043e\u043d\u0438\u0447\u043d\u044b\u0439 \u0441\u043e\u044e\u0437!";break;case 9:f=3;c="\u00ab\u041f\u043e\u043a\u0440\u043e\u0432\u0438\u0442\u0435\u043b\u044c \u0438 \u0441\u043e\u0432\u0435\u0442\u043d\u0438\u043a\u00bb";k="\u2014 \u0421\u043a\u043e\u0440\u0435\u0435 \u0434\u0435\u043b\u043e\u0432\u043e\u0439 \u0441\u043e\u044e\u0437";break;case 10:f=2;c="\u00ab\u0421\u0442\u0430\u0440\u0448\u0438\u0439 \u0431\u0440\u0430\u0442 \u0438 \u043c\u043b\u0430\u0434\u0448\u0438\u0439 \u0431\u0440\u0430\u0442\u00bb";
    k="\u2014 \u0414\u0440\u0443\u0437\u044c\u044f \u0438 \u0431\u0440\u0430\u0442\u044c\u044f \u043d\u0430\u0432\u0435\u043a!";break;case 11:f=1,c="\u00ab\u041b\u0443\u0447\u0448\u0438\u0439 \u0434\u0440\u0443\u0433 \u0438 \u043b\u0443\u0447\u0448\u0438\u0439 \u0432\u0440\u0430\u0433\u00bb",k="\u2014 \u0421\u0442\u0435\u0440\u043f\u0438\u0442\u0441\u044f-\u0441\u043b\u044e\u0431\u0438\u0442\u0441\u044f"}-1!=d&&-1!=l?($(".line-0-"+f+"").addClass("line-on-click"),$("#0_"+f+"").attr("transform","rotate(0 250 250)"),
    $("#0_"+f+"").attr("transform","rotate("+g+" 250 250)"),getHoroComment(2,c,k)):getHoroComment(1,"","")}function d(b,a,c,d){2==d?(g(),getHoroComment(1,"",""),$(".fill-blue").prev(".sign-name").removeClass("sign-on"),$(".fill-pink").prev(".sign-name").removeClass("sign-on"),$(".fill-pink").removeClass("fill-pink"),$("."+b+"-svg").addClass("fill-pink"),$(".lines-on-click").addClass("line-on-click"),$("#female_sign").text(a)):($(".fill-blue").prev(".sign-name").removeClass("sign-on"),$(".fill-blue.fill-pink").prev(".sign-name").addClass("sign-on"),
    $(".fill-blue").removeClass("fill-blue"),$("."+b+"-svg").addClass("fill-blue"),$("#male_sign").text(a))}function a(b,a){$(".horo-circle-additional").hasClass("display-block-horo-circle")&&$(".horo-circle-additional.display-block-horo-circle").addClass("display-none-horo-circle");$("."+b+"-svg").hasClass("fill-pink")?($(".lines-on-hover").addClass("line-on-hover"),$("#common_compatibility_lines_on_hover").children("path").attr("transform","rotate("+30*a+" 250 250)").attr("stroke","#c1527f").attr("stroke-width",
    "2.0"),$("#common_compatibility_lines_on_hover").children("line").attr("transform","rotate("+30*a+" 250 250)").attr("stroke","#c1527f").attr("stroke-width","2.0"),getHoverComment(b,1)):$("."+b+"-svg").hasClass("fill-blue")?($(".lines-on-hover").addClass("line-on-hover"),$("#common_compatibility_lines_on_hover").children("path").attr("transform","rotate("+30*a+" 250 250)").attr("stroke","#4886a0").attr("stroke-width","2.0"),$("#common_compatibility_lines_on_hover").children("line").attr("transform",
    "rotate("+30*a+" 250 250)").attr("stroke","#4886a0").attr("stroke-width","2.0"),getHoverComment(b,2)):($(".lines-on-hover").addClass("line-on-hover"),$("#common_compatibility_lines_on_hover").children("path").attr("transform","rotate("+30*a+" 250 250)").attr("stroke","#aaaaaa").attr("stroke-width","2.0"),$("#common_compatibility_lines_on_hover").children("line").attr("transform","rotate("+30*a+" 250 250)").attr("stroke","#aaaaaa").attr("stroke-width","2.0"),$("."+b+"-svg").children("svg").children("path").attr("stroke",
    "#ddd").attr("stroke-width","2.0"),$("."+b+"-svg").children("svg").children("line").attr("stroke","#ddd").attr("stroke-width","2.0"),$("."+b+"-svg").children("svg").children("circle").attr("stroke","#ddd").attr("stroke-width","2.0"),getHoverComment(b,0))}function c(b){$(".horo-circle-additional").hasClass("display-none-horo-circle")&&$(".horo-circle-additional.display-none-horo-circle").removeClass("display-none-horo-circle");$(".horo-circle-hover-comment").removeClass("display-block-horo-circle");
    $(".lines-on-hover").removeClass("line-on-hover");$("."+b+"-svg").children("svg").children("path").attr("stroke","#888888").attr("stroke-width","1.0");$("."+b+"-svg").children("svg").children("line").attr("stroke","#888888").attr("stroke-width","1.0");$("."+b+"-svg").children("svg").children("circle").attr("stroke","#888888").attr("stroke-width","1.0")}$(".erase-horo-circle").click(g());jQuery(function(b){b(document).mouseup(function(a){var c=b(".horo-sign"),d=b(".white-horo-wrap"),e=b(".select-block.female"),
    f=b("a#go-horo");c.is(a.target)||0!==c.has(a.target).length||d.is(a.target)||0!==d.has(a.target).length||e.is(a.target)||0!==e.has(a.target).length||f.is(a.target)||g()})});var h=$("span#female_sign").text(),f=$("span#male_sign").text(),h=getActiveSign(h),f=getActiveSign(f);setActiveSign(h,"fill-pink");setActiveSign(f,"fill-blue");b(h,f);$("#go-horo").attr("href");jQuery("#female_sign").bind("DOMSubtreeModified",function(){$(".lines-on-click").removeClass("line-on-click");$(".fill-pink").prev(".sign-name").removeClass("sign-on");
    var a=$(this).text(),a=getActiveSign(a);setActiveSign(a,"fill-pink");h=a;b(h,f);a=window.location.href;if("no sign"==f){var c=$("#male_sign").text(),c=getActiveSign(c);$("#go-horo").attr("href",a+h+"/"+c+"/")}else $("#go-horo").attr("href",a+h+"/"+f+"/")});jQuery("#male_sign").bind("DOMSubtreeModified",function(){$(".lines-on-click").removeClass("line-on-click");$(".fill-blue").prev(".sign-name").removeClass("sign-on");var a=$(this).text(),a=getActiveSign(a);setActiveSign(a,"fill-blue");f=a;b(h,f);
    a=window.location.href;if("no sign"==h){var c=$("#female_sign").text(),c=getActiveSign(c);$("#go-horo").attr("href",a+c+"/"+f+"/")}else $("#go-horo").attr("href",a+h+"/"+f+"/")});var e=2;$(".horo-sign.oven").click(function(){d("oven","\u041e\u0432\u0435\u043d",0,e);e++});$(".horo-sign.telets").click(function(){d("telets","\u0422\u0435\u043b\u0435\u0446",1,e);e++});$(".horo-sign.bliznecy").click(function(){d("bliznecy","\u0411\u043b\u0438\u0437\u043d\u0435\u0446\u044b",2,e);e++});$(".horo-sign.rak").click(function(){d("rak",
    "\u0420\u0430\u043a",3,e);e++});$(".horo-sign.lev").click(function(){d("lev","\u041b\u0435\u0432",4,e);e++});$(".horo-sign.deva").click(function(){d("deva","\u0414\u0435\u0432\u0430",5,e);e++});$(".horo-sign.vesy").click(function(){d("vesy","\u0412\u0435\u0441\u044b",6,e);e++});$(".horo-sign.skorpion").click(function(){d("skorpion","\u0421\u043a\u043e\u0440\u043f\u0438\u043e\u043d",7,e);e++});$(".horo-sign.strelets").click(function(){d("strelets","\u0421\u0442\u0440\u0435\u043b\u0435\u0446",8,e);
    e++});$(".horo-sign.kozerog").click(function(){d("kozerog","\u041a\u043e\u0437\u0435\u0440\u043e\u0433",9,e);e++});$(".horo-sign.vodoley").click(function(){d("vodoley","\u0412\u043e\u0434\u043e\u043b\u0435\u0439",10,e);e++});$(".horo-sign.riby").click(function(){d("riby","\u0420\u044b\u0431\u044b",11,e);e++});$(".horo-sign.oven").hover(function(){a("oven",0)},function(){c("oven")});$(".horo-sign.telets").hover(function(){a("telets",1)},function(){c("telets")});$(".horo-sign.bliznecy").hover(function(){a("bliznecy",
    2)},function(){c("bliznecy")});$(".horo-sign.rak").hover(function(){a("rak",3)},function(){c("rak")});$(".horo-sign.lev").hover(function(){a("lev",4)},function(){c("lev")});$(".horo-sign.deva").hover(function(){a("deva",5)},function(){c("deva")});$(".horo-sign.vesy").hover(function(){a("vesy",6)},function(){c("vesy")});$(".horo-sign.skorpion").hover(function(){a("skorpion",7)},function(){c("skorpion")});$(".horo-sign.strelets").hover(function(){a("strelets",8)},function(){c("strelets")});$(".horo-sign.kozerog").hover(function(){a("kozerog",
    9)},function(){c("kozerog")});$(".horo-sign.vodoley").hover(function(){a("vodoley",10)},function(){c("vodoley")});$(".horo-sign.riby").hover(function(){a("riby",11)},function(){c("riby")})});
function getActiveSign(g){var b="";switch(g){case "\u041e\u0432\u0435\u043d":b="oven";break;case "\u0422\u0435\u043b\u0435\u0446":b="telets";break;case "\u0411\u043b\u0438\u0437\u043d\u0435\u0446\u044b":b="bliznecy";break;case "\u0420\u0430\u043a":b="rak";break;case "\u041b\u0435\u0432":b="lev";break;case "\u0414\u0435\u0432\u0430":b="deva";break;case "\u0412\u0435\u0441\u044b":b="vesy";break;case "\u0421\u043a\u043e\u0440\u043f\u0438\u043e\u043d":b="skorpion";break;case "\u0421\u0442\u0440\u0435\u043b\u0435\u0446":b=
    "strelets";break;case "\u041a\u043e\u0437\u0435\u0440\u043e\u0433":b="kozerog";break;case "\u0412\u043e\u0434\u043e\u043b\u0435\u0439":b="vodoley";break;case "\u0420\u044b\u0431\u044b":b="riby"}return b}function setActiveSign(g,b){$("."+b).removeClass(b);$("."+g+"-svg").addClass(b);$("."+g+"-svg").prev(".sign-name").addClass("sign-on")}
function getActiveSignNumber(g){var b="";switch(g){case "oven":b=0;break;case "telets":b=1;break;case "bliznecy":b=2;break;case "rak":b=3;break;case "lev":b=4;break;case "deva":b=5;break;case "vesy":b=6;break;case "skorpion":b=7;break;case "strelets":b=8;break;case "kozerog":b=9;break;case "vodoley":b=10;break;case "riby":b=11;break;case "no sign":b=-1}return b}
function getHoroComment(g,b,d){var a="";switch(g){case 0:a="\u2014 \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u0437\u043d\u0430\u043a";$(".horo-circle-comment.display-block-horo-circle").removeClass("display-block-horo-circle");$(".horo-circle-additional.ddisplay-block-horo-circle").removeClass("display-block-horo-circle");break;case 1:a="\u2014 \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0437\u043d\u0430\u043a \u043f\u0430\u0440\u0442\u043d\u0435\u0440\u0430";
    break;case 2:a='<div class="horo-circle-comment-type">\u0422\u0438\u043f \u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u0439</div><div>'+b+"</div>"}$(".horo-circle-comment").html("");$(".horo-circle-comment").addClass("display-block-horo-circle");$(".horo-circle-comment").html(a);""!=d&&($(".horo-circle-additional").html(""),$(".horo-circle-hover-comment").removeClass("display-block-horo-circle"),$(".horo-circle-additional").addClass("display-block-horo-circle"),$(".horo-circle-additional").html(d))}
function signEngRus(g){var b="";switch(g){case "oven":b="\u041e\u0432\u0435\u043d";break;case "telets":b="\u0422\u0435\u043b\u0435\u0446";break;case "bliznecy":b="\u0411\u043b\u0438\u0437\u043d\u0435\u0446\u044b";break;case "rak":b="\u0420\u0430\u043a";break;case "lev":b="\u041b\u0435\u0432";break;case "deva":b="\u0414\u0435\u0432\u0430";break;case "vesy":b="\u0412\u0435\u0441\u044b";break;case "skorpion":b="\u0421\u043a\u043e\u0440\u043f\u0438\u043e\u043d";break;case "strelets":b="\u0421\u0442\u0440\u0435\u043b\u0435\u0446";
    break;case "kozerog":b="\u041a\u043e\u0437\u0435\u0440\u043e\u0433";break;case "vodoley":b="\u0412\u043e\u0434\u043e\u043b\u0435\u0439";break;case "riby":b="\u0420\u044b\u0431\u044b"}return b}
function getHoverComment(g,b){var d="";switch(g){case "oven":d="\u041e\u0432\u043d\u0430";break;case "telets":d="\u0422\u0435\u043b\u044c\u0446\u0430";break;case "bliznecy":d="\u0411\u043b\u0438\u0437\u043d\u0435\u0446\u043e\u0432";break;case "rak":d="\u0420\u0430\u043a\u0430";break;case "lev":d="\u041b\u044c\u0432\u0430";break;case "deva":d="\u0414\u0435\u0432\u044b";break;case "vesy":d="\u0412\u0435\u0441\u043e\u0432";break;case "skorpion":d="\u0421\u043a\u043e\u0440\u043f\u0438\u043e\u043d\u0430";
    break;case "strelets":d="\u0421\u0442\u0440\u0435\u043b\u044c\u0446\u0430";break;case "kozerog":d="\u041a\u043e\u0437\u0435\u0440\u043e\u0433\u0430";break;case "vodoley":d="\u0412\u043e\u0434\u043e\u043b\u0435\u044f";break;case "riby":d="\u0420\u044b\u0431"}g=signEngRus(g);var a="\u041e\u0432\u0435\u043d \u0411\u043b\u0438\u0437\u043d\u0435\u0446\u044b \u041b\u0435\u0432 \u0412\u0435\u0441\u044b \u0421\u0442\u0440\u0435\u043b\u0435\u0446 \u0412\u043e\u0434\u043e\u043b\u0435\u0439".split(" "),c="\u0422\u0435\u043b\u0435\u0446 \u0420\u0430\u043a \u0414\u0435\u0432\u0430 \u0421\u043a\u043e\u0440\u043f\u0438\u043e\u043d \u041a\u043e\u0437\u0435\u0440\u043e\u0433 \u0420\u044b\u0431\u044b".split(" ");
    $.inArray(g,a);-1==$.inArray(g,c)?a.splice($.inArray(g,a),1):(c.splice($.inArray(g,c),1),a=c);var h,f;$("div.fill-pink")&&(h=$(".svg.fill-pink").prev("div.sign-name.sign-on").text(),h=$.inArray(h,a),a[h]='<span class="pink">'+a[h]);$("div.fill-blue")&&(f=$(".svg.fill-blue").prev(".sign-on").text(),f=$.inArray(f,a),a[f]='<span class="blue">'+a[f]);for(var c=a.length-1,e=0;e<c;e++)a[e]+=",";a[h]==a[4]?a[4]+="</span>":(c=a[h],c=c.slice(0,-1),a[h]=c+",</span>");a[f]==a[4]?a[4]+="</span>":(c=a[f],c=c.slice(0,
        -1),a[f]=c+",</span>");d="<div>"+a[0]+" "+a[1]+" "+a[2]+" "+a[3]+" \u0438 "+a[4]+'</div><div class="horo-circle-comment-match">\u2014 \u043d\u0430\u0438\u0431\u043e\u043b\u0435\u0435 \u0431\u043b\u0430\u0433\u043e\u043f\u0440\u0438\u044f\u0442\u043d\u044b \u0434\u043b\u044f '+d+"</div>";$(".horo-circle-hover-comment").html("");$(".horo-circle-hover-comment").addClass("display-block-horo-circle");$(".horo-circle-hover-comment").html(d)};